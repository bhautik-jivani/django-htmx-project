{% extends "base.html" %}
{% load crispy_forms_tags %}

{% block title %}
Create Person
{% endblock %}

{% block content %}
<h1>Create Person</h1>

{% if messages %}
<div class="messages">
    {% for message in messages %}
    <div class="alert {{ message.tags }} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endfor %}
</div>
{% endif %}

<form action="{% url 'myapp:book_create_view' %}" method="post" novalidate>
    {% csrf_token %}
    {{ form|crispy }}

    <button
        type="button"
        class="btn btn-outline-secondary"
        hx-get="{% url 'myapp:add_person_form_view' %}"
        hx-target="#modals-here"
        hx-trigger="click"
        data-bs-toggle="modal"
        data-bs-target="#modals-here"
    >
        + Add Person
    </button>

    <button type="submit" class="btn btn-outline-primary my-2">Save</button>
    <a href="{% url 'myapp:book_list_view' %}" class="btn btn-outline-secondary my-2">Cancel</a>
</form>

<div id="modals-here"
    class="modal modal-blur fade"
    style="display: none"
    aria-hidden="false"
    tabindex="-1">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
        <div class="modal-content"></div>
    </div>
</div>

{% endblock %}

